<!-- titulo de la pagina -->
<div class="text_center sub-title-page_conf">
    {{modulo.nombreModulo+' / '+item.nombreItem}}
</div>
<alert></alert>

<!-- tabla con la lista de tipos de consecutivos parametrizados -->
<div *ngIf="!nomenclaturaCrearEditar">
    <div class="cpm_right">
        <button type="button" class="btn btn-primary" (click)="abrirPanelCreacion()" title="Clic aquí para crear un tipo de consecutivo de correspondencia">Crear Consecutivo</button>
    </div>

    <p-dataTable [responsive]="true" [rows]="15" [paginator]="true" emptyMessage="No se encontraron registros en el sistema." selectionMode="single">
        <p-column header="Nomenclatura" [style]="{'width':'15%', 'text-align':'center'}" [filter]="true" filterPlaceholder="Filtro de búsqueda">
        </p-column>

        <p-column header="Nombre del Consecutivo" [style]="{'text-align':'center'}" [filter]="true" filterPlaceholder="Filtro de búsqueda">
        </p-column>

        <p-column [style]="{'width':'8%','text-align':'center'}" header="Ver Campos">
            <ng-template let-item="rowData" pTemplate="body">
                <span class="glyphicon glyphicon-share cursor-manito" title="Clic aquí para ver los privilegios de este ROL"></span>
            </ng-template>
        </p-column>

        <p-column [style]="{'width':'5%','text-align':'center'}" header="Editar">
            <ng-template let-item="rowData" pTemplate="body">
                <span class="glyphicon glyphicon-edit cursor-manito" title="Clic aquí para editar los valores de este ROL"></span>
            </ng-template>
        </p-column>

        <p-column [style]="{'width':'6%','text-align':'center'}" header="Eliminar">
            <ng-template let-item="rowData" pTemplate="body">
                <span class="glyphicon glyphicon-trash cursor-manito" title="Clic aquí para eliminar este ROL del sistema"></span>
            </ng-template>
        </p-column>
    </p-dataTable>
</div>

<!-- panel creacion, tipo consecutivo correspondencia -->
<br *ngIf="nomenclaturaCrearEditar" />
<div *ngIf="nomenclaturaCrearEditar">

    <!-- formulario del nombre y nomenclatura del tipo de consecutivo-->
    <form name="form" #f="ngForm" (ngSubmit)="onSubmit() && f.form.valid" (keydown.enter)="$event.preventDefault()" novalidate style="margin-bottom:4px">

        <div class="row">
            <div class="form-group col-md-6 sin_margin_bottom" style="width: 30%">
                <label for="nomen">Nomenclatura*:</label>
                <input type="text" [(ngModel)]="nomenclaturaCrearEditar.nomenclatura.nomenclatura" name="nomen" #nomen="ngModel" 
                 [ngClass]="(submitted && !nomen.valid) ? 'form-control input-invalido':'form-control input-valido'"
                 maxlength="10" placeholder="Este campo es requerido" myNoSpaces/>
            </div>
            <div class="form-group col-md-6 sin_margin_bottom" style="width: 30%">
                <label for="nombre">Nombre del Consecutivo*:</label>
                <input type="text" [(ngModel)]="nomenclaturaCrearEditar.nomenclatura.nombre" name="nombre" #nombre="ngModel" 
                 [ngClass]="(submitted && !nombre.valid) ? 'form-control input-invalido':'form-control input-valido'"
                 maxlength="50" placeholder="Este campo es requerido" myNoSpaces/>
            </div>

            <div class="form-group col-md-6 sin_margin_bottom" style="width: 40%;margin-top:25px;text-align: right">
                <button type="submit" class="btn btn-primary" title="Clic aquí para guardar los cambios en el sistema">Crear Consecutivo</button>&nbsp;
                <button type="button" class="btn btn-default" (click)="cerrarPanelCreacion()" title="Clic aquí para regresar a la lista de tipos de consecutivos de correspondencia" style="width: 145px">Cancelar</button>
            </div>
        </div>
    </form>

    <!-- tabla con los campos a diligenciar-->
    <div class="panel panel-info">
        <div class="panel-heading" style="text-align: center;padding: 5px 15px;"> 
          Verifique los campos que <strong>requieren ser diligenciados por parte del funcionario</strong> al momento de solicitar este consecutivo de correspondencia
        </div>

        <div class="panel-body">
            <table class="table" style="margin-bottom: 0px;">
                <thead>
                    <tr>
                        <th>Nombre del Campo</th>
                        <th>Descripción del Campo</th>
                        <th>¿Editable?</th>
                        <th>¿Diligenciar?</th>
                    </tr>
                </thead>

                <tbody>
                    <tr>
                        <td>Fecha de Elaboración</td>
                        <td>Fecha de elaboración del documento de respuesta, El sistema asigna la fecha actual por defecto</td>
                        <td style="text-align: center"> 
                            <p-checkbox name="nmCampos" binary="true" [(ngModel)]="nomenclaturaCrearEditar.fechaElaboracionEditableB"></p-checkbox>
                        </td>
                        <td style="text-align: center">
                            <span class="glyphicon glyphicon-ok"></span>
                        </td>
                    </tr>

                    <tr style="background-color: #fafafb;">
                        <td>Elaborado Por</td>
                        <td>Nombre del funcionario quien elabora el documento de respuesta</td>
                        <td></td>
                        <td style="text-align: center">
                            <p-checkbox name="nmCampos" binary="true" [(ngModel)]="nomenclaturaCrearEditar.elaboradoPorVisibleB"></p-checkbox>
                        </td>
                    </tr>

                    <tr>
                        <td>Dirigido A</td>
                        <td>Nombre de la entidad o ciudadano a quien se va dirigir el documento de respuesta</td>
                        <td></td>
                        <td style="text-align: center">
                            <p-checkbox name="nmCampos" binary="true" [(ngModel)]="nomenclaturaCrearEditar.dirigidoAVisibleB"></p-checkbox>
                        </td>
                    </tr>

                    <tr style="background-color: #fafafb;">
                        <td>Asunto</td>
                        <td>Breve resumen donde se especifica lo que solicita la entidad o el ciudadano</td>
                        <td></td>
                        <td style="text-align: center">
                            <p-checkbox name="nmCampos" binary="true" [(ngModel)]="nomenclaturaCrearEditar.asuntoVisibleB"></p-checkbox>
                        </td>
                    </tr>

                    <tr>
                        <td>Fecha del SAC</td>
                        <td>Fecha en la que el SAC recibió o radicó la solicitud de la entidad o ciudadano</td>
                        <td></td>
                        <td style="text-align: center">
                            <p-checkbox name="nmCampos" binary="true" [(ngModel)]="nomenclaturaCrearEditar.fechaSacVisibleB"></p-checkbox>
                        </td>
                    </tr>

                    <tr style="background-color: #fafafb;">
                        <td>Número del SAC</td>
                        <td>Número que asigna el SAC para identificar la solicitud de la entidad o ciudadano</td>
                        <td></td>
                        <td style="text-align: center">
                            <p-checkbox name="nmCampos" binary="true" [(ngModel)]="nomenclaturaCrearEditar.nroSacVisibleB"></p-checkbox>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>